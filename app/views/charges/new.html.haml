.row
  .col-xs-12.col-sm-12.col-md-12.col-lg-12
    - if !user_signed_in?
      #personalize_alert.alert.alert-info.alert-dismissible{:role => "alert"}
        %button.close{:type => "button", :"aria-label" => "Close", :data => {:dismiss => "alert"}}
          %span{"aria-hidden" => true}
            &times;
        = link_to(image_tag("FB-f-Logo__blue_29.png", :alt => "Sign in with Facebook"), omniauth_authorize_path(:user, :facebook))
        Sign in with
        = link_to("Facebook", omniauth_authorize_path(:user, :facebook))
        to personalize your experience

#bongloy_checkout.row
  .col-xs-12.col-sm-12.col-md-12.col-lg-12
    %h2
      Bongloy Checkout
    %p
      Bongloy Checkout is an embeddable payment form for desktop, tablet, and mobile devices. It works within your site so customers can pay instantly, without being redirected away to complete the transaction.

    %p
      In this demo, merchants can customize the flow using the <span class="label label-success">Merchant View</span> updates will appear in the <span class="label label-info">Customer View</span>

.row
  .col-xs-12.col-sm-12.col-md-6.col-lg-6
    #merchant_view.panel.panel-success
      .panel-heading
        Merchant View
      .panel-body
        = simple_form_for(@checkout_configuration, :url => checkout_configuration_path, :method => :post) do |f|
          = f.error_notification
          = f.input(:currency, :required => false, :prompt => false, :collection => CheckoutConfiguration::CURRENCIES)
          = f.input(:amount, :input_html => {:pattern => "\\d*", :data => {:autonumeric => true}})
          = f.input(:name)
          = f.input(:description)
          = f.input(:product_description, :as => :text)
          = f.input(:label)
          = f.button(:submit, "Update Configuration", :class => "btn btn-success")

  .col-xs-12.col-sm-12.col-md-6.col-lg-6
    #customer_view.panel.panel-info
      .panel-heading
        Customer View
      .panel-body
        = render("checkout", :show_product_description => true, :show_qr_code => true)

.row#code_snippits
  .col-xs-12.col-sm-12.col-md-12.col-lg-12
    %h2
      Code Snippits
    %p
      You can generate the blue checkout button with the following html snippit:
    %p
      %pre
        %code#bongloy_checkout_snippit.code
          = preserve do
            :escaped
              <form action="/charge" method="POST">
                <script
                  src="#{@checkout_configuration.checkout_js_url}" class="bongloy-button"
                  data-key="#{@checkout_configuration.publishable_key}"
                  data-image="#{@checkout_configuration.image_url}"
                  data-name="#{@checkout_configuration.name}"
                  data-description="#{@checkout_configuration.description}"
                  data-label="#{@checkout_configuration.label}"
                  data-amount="#{@checkout_configuration.amount_cents}"
                  data-currency="#{@checkout_configuration.currency}"
                  data-locale="auto">
                </script>
              </form>
